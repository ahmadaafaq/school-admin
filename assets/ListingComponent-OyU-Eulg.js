import{n as w,j as t,B as l,h,m as f,u as k,o as P,b as v,a as u,t as T,s as I,T as E,A as b,P as R,U as B}from"./index-dsWAcX1f.js";import{d as F,l as y,S as L,a as U,b as M}from"./listBG-dw88K66u.js";import{s as S}from"./SchoolDurationAction-3qyOhY_P.js";import{u as O}from"./index-uKa1WJb8.js";import"./FormControlLabel-GbaKk4ky.js";import"./toPropertyKey-Z1a84DJL.js";import"./typeof-LnL08gqA.js";import"./CircularProgress-4dZqOr9B.js";const $=()=>{const s=w(),o=e=>{s(`/school-duration/update/${e}`,{state:{id:e}})};return[{field:"period",headerName:"Period",headerAlign:"center",align:"center",flex:1},{field:"halves",headerName:"Halves",headerAlign:"center",align:"center",flex:1},{field:"recess_time",headerName:"Recess Time",headerAlign:"center",align:"center",flex:1},{field:"first_half_period_duration",headerName:"First Half periods Duration",headerAlign:"center",align:"center",flex:1},{field:"second_half_period_duration",headerName:"Second Half periods Duration",headerAlign:"center",align:"center",flex:1},{field:"opening_time",headerName:"Opening Time",headerAlign:"center",align:"center",flex:1,valueFormatter:e=>new Date(e==null?void 0:e.value).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},{field:"closing_time",headerName:"Closing Time",headerAlign:"center",align:"center",flex:1,valueFormatter:e=>new Date(e==null?void 0:e.value).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},{field:"employee_entry_time",headerName:"Employee Entry",headerAlign:"center",align:"center",flex:1,valueFormatter:e=>new Date(e==null?void 0:e.value).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},{field:"employee_exit_time",headerName:"Employee Exit",headerAlign:"center",align:"center",flex:1,valueFormatter:e=>new Date(e==null?void 0:e.value).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,renderCell:({row:{id:e}})=>t.jsx(l,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(h,{color:"info",variant:"contained",onClick:()=>o(e),sx:{minWidth:"50px"},children:t.jsx(F,{})})})}]},z=[5,10,20],H=({rolePriority:s=null})=>{const o=f(r=>r.menuItems.selected),{listData:a,loading:e}=f(r=>r.allSchoolDurations),g=k(),j=w(),A=P(),n=v("(max-width:480px)"),i=v("(max-width:920px)"),[D,c]=u.useState({search:!1,searching:!1}),[m,_]=u.useState(),{getPaginatedData:x}=O(),{getLocalStorage:C}=B(),d=T(g.palette.mode),p=document.getElementById("reload-btn"),N=()=>{p.style.display="none",c({search:!1,searching:!1,oldPagination:m})};return u.useEffect(()=>{const r=C("menu");A(I(r.selected))},[]),t.jsxs(l,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:g.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${y})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${y})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(l,{height:n?"19vh":i?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:d.blueAccent[700],children:t.jsxs(l,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[t.jsx(E,{component:"h2",variant:"h2",color:d.grey[100],fontWeight:"bold",children:o}),t.jsx(L,{action:S,api:b.SchoolDurationAPI,getSearchData:x,oldPagination:m,reloadBtn:p,setSearchFlag:c}),s>1&&!a.rows&&t.jsxs(h,{type:"submit",color:"success",variant:"contained",onClick:()=>{j("/school-duration/create")},sx:{height:i?"4vh":"auto"},children:["Create New ",o]})]})}),t.jsxs(h,{sx:{display:"none",position:"absolute",top:n?"23vh":i?"10.5vh":"16.5vh",left:n?"80vw":i?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:d.grey[100]},id:"reload-btn",type:"button",onClick:N,children:[t.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:t.jsx(U,{})}),"Back"]}),t.jsx(M,{action:S,api:b.SchoolDurationAPI,getQuery:x,columns:$(),rows:a.rows,count:a.count,loading:e,selected:o,pageSizeOptions:z,setOldPagination:_,searchFlag:D,setSearchFlag:c})]})};H.propTypes={rolePriority:R.number};export{H as default};
