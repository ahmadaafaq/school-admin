import{u as A,t as j,k as p,h as S,j as t,B as c,T as C,p as m,A as k,b as B,d as y,a as u,s as E,m as v,U as P}from"./index-OIGegECp.js";import{d as W,u as R,S as _,a as D,b as L}from"./index-v6jWwFZw.js";import"./FormControlLabel-Gd057uS1.js";import"./Autocomplete-RPy4K-aw.js";import"./index-6c-u7hMX.js";const O=()=>{const o=A(),a=j(o.palette.mode),l=p(e=>e.menuItems.selected),n=S(),s=e=>{n(`/${l.toLowerCase()}/update/${e}`,{state:{id:e}})};return[{field:"name",headerName:"NAME",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"board",headerName:"BOARD",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"sub_type",headerName:"SUB TYPE",headerAlign:"center",align:"center",flex:1,minWidth:100,valueGetter:e=>e.row.sub_type.charAt(0).toUpperCase()+e.row.sub_type.slice(1)},{field:"founding_year",headerName:"Founding Year",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"status",headerName:"STATUS",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(c,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?a.greenAccent[600]:a.redAccent[700],borderRadius:"4px",children:t.jsx(C,{color:a.grey[100],sx:{ml:"5px"},children:e})})},{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(c,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(m,{color:"info",variant:"contained",onClick:()=>s(e),sx:{minWidth:"50px"},children:t.jsx(W,{})})})}]},b=o=>({type:k.SET_SCHOOLS,payload:o}),M=[5,10,20],Q=()=>{const o=A(),a=S(),l=B(),n=y("(max-width:480px)"),s=y("(max-width:920px)"),i=p(r=>r.menuItems.selected),{listData:e}=p(r=>r.allSchools),[w,d]=u.useState({search:!1,searching:!1}),[g,T]=u.useState(),{getPaginatedData:x}=R(),{getLocalStorage:I}=P(),h=j(o.palette.mode),f=document.getElementById("reload-btn");u.useEffect(()=>{const r=I("menu");l(E(r.selected))},[]);const N=()=>{f.style.display="none",d({search:!1,searching:!1,oldPagination:g})};return t.jsxs(c,{m:"10px",position:"relative",children:[t.jsx(c,{height:n?"19vh":s?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:h.blueAccent[700],children:t.jsxs(c,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[t.jsx(C,{component:"h2",variant:"h2",color:h.grey[100],fontWeight:"bold",children:i}),t.jsx(_,{action:b,api:v.SchoolAPI,getSearchData:x,oldPagination:g,reloadBtn:f,setSearchFlag:d}),t.jsxs(m,{type:"submit",color:"success",variant:"contained",onClick:()=>{a(`/${i.toLowerCase()}/create`)},sx:{height:s?"4vh":"auto"},children:["Create New ",i]})]})}),t.jsxs(m,{sx:{display:"none",position:"absolute",top:n?"23vh":s?"10.5vh":"16.5vh",left:n?"80vw":s?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:h.grey[100]},id:"reload-btn",type:"button",onClick:N,children:[t.jsx("span",{style:{display:"inherit",marginRight:"5px",marginLeft:"-2px"},children:t.jsx(D,{})}),"Back"]}),t.jsx(L,{action:b,api:v.SchoolAPI,getQuery:x,columns:O(),rows:e.rows,count:e.count,selected:i,pageSizeOptions:M,setOldPagination:T,searchFlag:w,setSearchFlag:d})]})};export{Q as default};
