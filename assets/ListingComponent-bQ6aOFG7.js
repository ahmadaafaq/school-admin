import{u as w,t as A,m as g,n as C,j as t,B as l,T as S,h as m,N as R,o as E,b,a as u,s as P,A as v,U as W}from"./index-dsWAcX1f.js";import{d as B,l as y,S as $,a as D,b as L}from"./listBG-dw88K66u.js";import{u as _}from"./index-uKa1WJb8.js";import"./FormControlLabel-GbaKk4ky.js";import"./toPropertyKey-Z1a84DJL.js";import"./typeof-LnL08gqA.js";import"./CircularProgress-4dZqOr9B.js";const M=()=>{const a=w(),o=A(a.palette.mode),c=g(e=>e.menuItems.selected),n=C(),r=e=>{n(`/${c.toLowerCase()}/update/${e}`,{state:{id:e}})};return[{field:"username",headerName:"Username",headerAlign:"center",align:"center",flex:1,minWidth:120,valueGetter:e=>e.row.username.charAt(0).toUpperCase()+e.row.username.slice(1)||""},{field:"contact_no",headerName:"Contact",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"email",headerName:"E-mail",headerAlign:"center",align:"center",flex:1,minWidth:200},{field:"updated_at",headerName:"Updated",headerAlign:"center",align:"center",flex:1,minWidth:100,valueFormatter:e=>e==null?void 0:e.value.substring(0,10)},{field:"status",headerName:"STATUS",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(l,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?o.greenAccent[600]:o.redAccent[700],borderRadius:"4px",children:t.jsx(S,{color:o.grey[100],sx:{ml:"5px"},children:e.charAt(0).toUpperCase()+e.slice(1)||""})})},{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(l,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(m,{color:"info",variant:"contained",onClick:()=>r(e),sx:{minWidth:"50px"},children:t.jsx(B,{})})})}]},j=a=>({type:R.SET_USERS,payload:a}),z=[5,10,20],K=()=>{const a=w(),o=C(),c=E(),n=b("(max-width:480px)"),r=b("(max-width:920px)"),s=g(i=>i.menuItems.selected),{listData:e,loading:k}=g(i=>i.allUsers),[U,d]=u.useState({search:!1,searching:!1}),[p,I]=u.useState(),{getPaginatedData:x}=_(),{getLocalStorage:T}=W(),h=A(a.palette.mode),f=document.getElementById("reload-btn");u.useEffect(()=>{const i=T("menu");c(P(i.selected))},[]);const N=()=>{f.style.display="none",d({search:!1,searching:!1,oldPagination:p})};return t.jsxs(l,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:a.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${y})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${y})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(l,{height:n?"19vh":r?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:h.blueAccent[700],children:t.jsxs(l,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[t.jsx(S,{component:"h2",variant:"h2",color:h.grey[100],fontWeight:"bold",children:s}),t.jsx($,{action:j,api:v.UserAPI,getSearchData:x,oldPagination:p,reloadBtn:f,setSearchFlag:d}),t.jsxs(m,{type:"submit",color:"success",variant:"contained",onClick:()=>{o(`/${s.toLowerCase()}/create`)},sx:{height:r?"4vh":"auto"},children:["Create New ",s]})]})}),t.jsxs(m,{sx:{display:"none",position:"absolute",top:n?"23vh":r?"10.5vh":"16.5vh",left:n?"80vw":r?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:h.grey[100],marginLeft:"14vh"},id:"reload-btn",type:"button",onClick:N,children:[t.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:t.jsx(D,{})}),"Back"]}),t.jsx(L,{action:j,api:v.UserAPI,getQuery:x,columns:M(),rows:e.rows,count:e.count,loading:k,selected:s,pageSizeOptions:z,setOldPagination:I,searchFlag:U,setSearchFlag:d})]})};export{K as default};
