import{u as C,t as A,k as m,h as b,j as e,B as c,T as w,p,A as I,b as E,d as v,a as u,s as k,m as y,U as W}from"./index-OIGegECp.js";import{d as P,u as R,S as D,a as L,b as _}from"./index-v6jWwFZw.js";import"./FormControlLabel-Gd057uS1.js";import"./Autocomplete-RPy4K-aw.js";import"./index-6c-u7hMX.js";const M=()=>{const o=C(),a=A(o.palette.mode),l=m(t=>t.menuItems.selected),n=b(),s=t=>{n(`/${l.toLowerCase()}/update/${t}`,{state:{id:t}})};return[{field:"registration_no",headerName:"Registration Number",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"driver",headerName:"Driver",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"contact_no",headerName:"CONTACT",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"license_no",headerName:"LICENSE",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"status",headerName:"STATUS",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:t}})=>e.jsx(c,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:t==="active"?a.greenAccent[600]:a.redAccent[700],borderRadius:"4px",children:e.jsx(w,{color:a.grey[100],sx:{ml:"5px"},children:t})})},{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:t}})=>e.jsx(c,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:e.jsx(p,{color:"info",variant:"contained",onClick:()=>s(t),sx:{minWidth:"50px"},children:e.jsx(P,{})})})}]},j=o=>({type:I.SET_BUSES,payload:o}),O=[5,10,20],G=()=>{const o=C(),a=b(),l=E(),n=v("(max-width:480px)"),s=v("(max-width:920px)"),i=m(r=>r.menuItems.selected),{listData:t}=m(r=>r.allBuses),[S,d]=u.useState({search:!1,searching:!1}),[g,T]=u.useState(),{getPaginatedData:x}=R(),{getLocalStorage:N}=W(),h=A(o.palette.mode),f=document.getElementById("reload-btn");u.useEffect(()=>{const r=N("menu");l(k(r.selected))},[]);const B=()=>{f.style.display="none",d({search:!1,searching:!1,oldPagination:g})};return e.jsxs(c,{m:"10px",position:"relative",children:[e.jsx(c,{height:n?"19vh":s?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:h.blueAccent[700],children:e.jsxs(c,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[e.jsx(w,{component:"h2",variant:"h2",color:h.grey[100],fontWeight:"bold",children:i}),e.jsx(D,{action:j,api:y.BusAPI,getSearchData:x,oldPagination:g,reloadBtn:f,setSearchFlag:d}),e.jsxs(p,{type:"submit",color:"success",variant:"contained",onClick:()=>{a(`/${i.toLowerCase()}/create`)},sx:{height:s?"4vh":"auto"},children:["Create New ",i]})]})}),e.jsxs(p,{sx:{display:"none",position:"absolute",top:n?"23vh":s?"10.5vh":"16.5vh",left:n?"80vw":s?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:h.grey[100]},id:"reload-btn",type:"button",onClick:B,children:[e.jsx("span",{style:{display:"inherit",marginRight:"5px",marginLeft:"-2px"},children:e.jsx(L,{})}),"Back"]}),e.jsx(_,{action:j,api:y.BusAPI,getQuery:x,columns:M(),rows:t.rows,count:t.count,selected:i,pageSizeOptions:O,setOldPagination:T,searchFlag:S,setSearchFlag:d})]})};export{G as default};
