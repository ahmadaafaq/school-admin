import{n as C,u as S,t as E,j as t,B as s,T as N,h as g,N as W,m as b,o as R,b as v,a as m,s as B,A,P as U,U as $}from"./index-dsWAcX1f.js";import{d as D,l as w,S as M,a as G,b as L}from"./listBG-dw88K66u.js";import{u as O}from"./index-uKa1WJb8.js";import"./FormControlLabel-GbaKk4ky.js";import"./toPropertyKey-Z1a84DJL.js";import"./typeof-LnL08gqA.js";import"./CircularProgress-4dZqOr9B.js";const _=(a=null)=>{const o=C(),l=S(),r=E(l.palette.mode),c=e=>{o(`/employee/update/${e}`,{state:{id:e}})};return[{field:"fullname",headerName:"Name",headerAlign:"center",align:"center",flex:1,minWidth:120,valueGetter:e=>`${e.row.firstname.charAt(0).toUpperCase()+e.row.firstname.slice(1)||""} ${e.row.lastname.charAt(0).toUpperCase()+e.row.lastname.slice(1)||""}`},{field:"email",headerName:"E-mail",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"contact_no",headerName:"Contact No",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"role",headerName:"Role",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"dob",headerName:"Date of Birth",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"gender",headerName:"Gender",headerAlign:"center",align:"center",flex:1,minWidth:100,valueGetter:e=>`${e.row.gender.charAt(0).toUpperCase()+e.row.gender.slice(1)||""}`},{field:"status",headerName:"STATUS",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(s,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?r.greenAccent[600]:r.redAccent[700],borderRadius:"4px",children:t.jsx(N,{color:r.grey[100],sx:{ml:"5px"},children:e.charAt(0).toUpperCase()+e.slice(1)||""})})},a!==1&&{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(s,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(g,{color:"info",variant:"contained",onClick:()=>c(e),sx:{minWidth:"50px"},children:t.jsx(D,{})})})}]},j=a=>({type:W.SET_EMPLOYEES,payload:a}),z=[5,10,20],F=({rolePriority:a=null})=>{const o=b(i=>i.menuItems.selected),{listData:l,loading:r}=b(i=>i.allEmployees),c=S(),u=C(),e=R(),n=v("(max-width:480px)"),d=v("(max-width:920px)"),[k,h]=m.useState({search:!1,searching:!1}),[x,T]=m.useState(),{getPaginatedData:f}=O(),{getLocalStorage:P}=$(),p=E(c.palette.mode),y=document.getElementById("reload-btn"),I=()=>{y.style.display="none",h({search:!1,searching:!1,oldPagination:x})};return m.useEffect(()=>{const i=P("menu");e(B(i.selected))},[]),t.jsxs(s,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:c.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${w})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${w})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(s,{height:n?"19vh":d?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:p.blueAccent[700],children:t.jsxs(s,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[t.jsx(N,{component:"h2",variant:"h2",color:p.grey[100],fontWeight:"bold",children:o}),t.jsx(M,{action:j,api:A.EmployeeAPI,getSearchData:f,oldPagination:x,reloadBtn:y,setSearchFlag:h}),a>1&&t.jsxs(g,{type:"submit",color:"success",variant:"contained",onClick:()=>{u("/employee/create")},sx:{height:d?"4vh":"auto"},children:["Create New ",o]})]})}),t.jsxs(g,{sx:{display:"none",position:"absolute",top:n?"23vh":d?"10.5vh":"16.5vh",left:n?"80vw":d?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:p.grey[100],marginLeft:"14vh"},id:"reload-btn",type:"button",onClick:I,children:[t.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:t.jsx(G,{})}),"Back"]}),t.jsx(L,{action:j,api:A.EmployeeAPI,getQuery:f,columns:_(a),rows:l.rows,count:l.count,loading:r,selected:o,pageSizeOptions:z,setOldPagination:T,searchFlag:k,setSearchFlag:h})]})};F.propTypes={rolePriority:U.number};export{F as default};
