import{u as A,t as C,m as u,n as S,j as t,B as s,T as w,h as g,o as P,b,a as p,s as R,Q as y,A as v,U as _}from"./index-dsWAcX1f.js";import{d as T,l as j,S as $,a as D,b as E}from"./listBG-dw88K66u.js";import{u as L}from"./index-uKa1WJb8.js";import"./FormControlLabel-GbaKk4ky.js";import"./toPropertyKey-Z1a84DJL.js";import"./typeof-LnL08gqA.js";import"./CircularProgress-4dZqOr9B.js";const M=()=>{const l=A(),a=C(l.palette.mode),c=u(e=>e.menuItems.selected),n=S(),o=e=>{n(`/${c.toLowerCase()}/update/${e}`,{state:{id:e}})};return[{field:"affiliation_no",headerName:"Affiliation Number",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"name",headerName:"Name",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"board",headerName:"Board",headerAlign:"center",align:"center",flex:1,minWidth:80},{field:"sub_type",headerName:"Sub Type",headerAlign:"center",align:"center",flex:1,minWidth:80,valueGetter:e=>e.row.sub_type.charAt(0).toUpperCase()+e.row.sub_type.slice(1)},{field:"contact_no_1",headerName:"Contact Number",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"status",headerName:"Status",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(s,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?a.greenAccent[600]:a.redAccent[700],borderRadius:"4px",children:t.jsx(w,{color:a.grey[100],sx:{ml:"5px"},children:e})})},{field:"action",headerName:"Action",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(s,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(g,{color:"info",variant:"contained",onClick:()=>o(e),sx:{minWidth:"50px"},children:t.jsx(T,{})})})}]},z=[5,10,20],J=()=>{const l=A(),a=S(),c=P(),n=b("(max-width:480px)"),o=b("(max-width:920px)"),i=u(r=>r.menuItems.selected),{listData:e,loading:k}=u(r=>r.listingSchools),[N,d]=p.useState({search:!1,searching:!1}),[m,I]=p.useState(),h=C(l.palette.mode),x=document.getElementById("reload-btn"),{getPaginatedData:f}=L(),{getLocalStorage:W}=_();p.useEffect(()=>{const r=W("menu");c(R(r.selected))},[]);const B=()=>{x.style.display="none",d({search:!1,searching:!1,oldPagination:m})};return t.jsxs(s,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:l.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${j})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${j})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(s,{height:n?"19vh":o?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:h.blueAccent[700],position:"relative",children:t.jsxs(s,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[t.jsx(w,{component:"h2",variant:"h2",color:h.grey[100],fontWeight:"bold",children:i}),t.jsx($,{action:y,api:v.SchoolAPI,getSearchData:f,oldPagination:m,reloadBtn:x,setSearchFlag:d}),t.jsxs(g,{type:"submit",color:"success",variant:"contained",onClick:()=>{a(`/${i.toLowerCase()}/create`)},sx:{height:o?"4vh":"auto"},children:["Create New ",i]})]})}),t.jsxs(g,{sx:{display:"none",position:"absolute",top:n?"202px":o?"142px":"110px",left:n||o?"320px":"325px",zIndex:10,borderRadius:"10%",color:h.grey[100]},id:"reload-btn",type:"button",onClick:B,children:[t.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:t.jsx(D,{})}),"Back"]}),t.jsx(E,{action:y,api:v.SchoolAPI,getQuery:f,columns:M(),rows:e.rows,count:e.count,loading:k,selected:i,pageSizeOptions:z,setOldPagination:I,searchFlag:N,setSearchFlag:d})]})};export{J as default};
