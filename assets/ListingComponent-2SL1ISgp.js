import{u as P,t as S,n as k,j as e,B as c,T,h as m,N as R,m as v,o as W,b as A,a as g,s as B,A as j,P as _,U as E}from"./index-dsWAcX1f.js";import{d as z,l as w,S as H,a as L,b as O}from"./listBG-dw88K66u.js";import{u as $}from"./index-uKa1WJb8.js";import"./FormControlLabel-GbaKk4ky.js";import"./toPropertyKey-Z1a84DJL.js";import"./typeof-LnL08gqA.js";import"./CircularProgress-4dZqOr9B.js";const M=(o=null)=>{const i=P(),a=S(i.palette.mode),h=k(),d=t=>{h(`/holiday/update/${t}`,{state:{id:t}})};return[{field:"title",headerName:"Title",headerAlign:"center",align:"center",flex:1,minWidth:120,valueGetter:t=>`${t.row.title.charAt(0).toUpperCase()+t.row.title.slice(1)||""} `},{field:"startDate",headerName:"Closing Date",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"endDate",headerName:"Opening Date",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"notes",headerName:"Notes",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"type",headerName:"Type",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{type:t}})=>{const p=t.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" ");return e.jsx(c,{width:"70%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:t==="school_closure"?a.greenAccent[600]:t==="partial_closure"?a.redAccent[700]:a.blueAccent[800],borderRadius:"4px",children:e.jsx(T,{color:a.grey[100],sx:{ml:"5px"},children:p})})}},o!==1&&{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:t}})=>e.jsx(c,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:e.jsx(m,{color:"info",variant:"contained",onClick:()=>d(t),sx:{minWidth:"50px"},children:e.jsx(z,{})})})}]},C=o=>({type:R.SET_HOLIDAYS,payload:o}),U=[5,10,20],F=({rolePriority:o=null})=>{const i=v(l=>l.menuItems.selected),{listData:a,loading:h}=v(l=>l.allHolidays),d=P(),x=k(),t=W(),n=A("(max-width:480px)"),r=A("(max-width:920px)"),[p,s]=g.useState({search:!1,searching:!1}),[f,I]=g.useState(),{getPaginatedData:y}=$(),{getLocalStorage:N}=E(),u=S(d.palette.mode),b=document.getElementById("reload-btn"),D=()=>{b.style.display="none",s({search:!1,searching:!1,oldPagination:f})};return g.useEffect(()=>{const l=N("menu");t(B(l.selected))},[]),e.jsxs(c,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:d.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${w})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${w})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[e.jsx(c,{height:n?"19vh":r?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:u.blueAccent[700],children:e.jsxs(c,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[e.jsx(T,{component:"h2",variant:"h2",color:u.grey[100],fontWeight:"bold",children:i}),e.jsx(H,{action:C,api:j.HolidayAPI,getSearchData:y,oldPagination:f,reloadBtn:b,setSearchFlag:s}),o>1&&e.jsxs(m,{type:"submit",color:"success",variant:"contained",onClick:()=>{x("/holiday/create")},sx:{height:r?"4vh":"auto"},children:["Create New ",i]})]})}),e.jsxs(m,{sx:{display:"none",position:"absolute",top:n?"23vh":r?"10.5vh":"16.5vh",left:n?"80vw":r?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:u.grey[100],marginLeft:"14vh"},id:"reload-btn",type:"button",onClick:D,children:[e.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:e.jsx(L,{})}),"Back"]}),e.jsx(O,{action:C,api:j.HolidayAPI,getQuery:y,columns:M(o),rows:a.rows,count:a.count,loading:h,selected:i,pageSizeOptions:U,setOldPagination:I,searchFlag:p,setSearchFlag:s})]})};F.propTypes={rolePriority:_.number};export{F as default};
