import{n as S,u as P,t as N,j as t,B as d,T,h as g,N as L,m as C,o as U,b as y,a as u,s as R,A as j,P as B,U as E}from"./index-dsWAcX1f.js";import{d as G,l as w,S as H,a as O,b as _}from"./listBG-dw88K66u.js";import{u as $}from"./index-uKa1WJb8.js";import"./FormControlLabel-GbaKk4ky.js";import"./toPropertyKey-Z1a84DJL.js";import"./typeof-LnL08gqA.js";import"./CircularProgress-4dZqOr9B.js";const M=(s=null)=>{const c=S(),o=P(),i=N(o.palette.mode),h=e=>{c(`/school-house/update/${e}`,{state:{id:e}})};return[{field:"name",headerName:"Name",headerAlign:"center",align:"center",flex:1,valueGetter:e=>`${e.row.name.charAt(0).toUpperCase()+e.row.name.slice(1)||""}`},{field:"captainName",headerName:"Captain",headerAlign:"center",align:"center",flex:1,valueGetter:e=>e.row.captainName.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" ")},{field:"viceCaptainNname",headerName:"Vice Captain",headerAlign:"center",align:"center",flex:1,valueGetter:e=>e.row.viceCaptainNname.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" ")},{field:"teacherName",headerName:"Teacher Incharge",headerAlign:"center",align:"center",flex:1,minWidth:100,valueGetter:e=>e.row.teacherName.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" ")},{field:"status",headerName:"STATUS",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(d,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?i.greenAccent[600]:i.redAccent[700],borderRadius:"4px",children:t.jsx(T,{color:i.grey[100],sx:{ml:"5px"},children:e.charAt(0).toUpperCase()+e.slice(1)||""})})},s!==1&&{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,renderCell:({row:{id:e}})=>t.jsx(d,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(g,{color:"info",variant:"contained",onClick:()=>h(e),sx:{minWidth:"50px"},children:t.jsx(G,{})})})}]},A=s=>({type:L.SET_LISTING_SCHOOL_HOUSES,payload:s}),W=[5,10,20],F=({rolePriority:s=null})=>{const c=C(l=>l.menuItems.selected),{listData:o,loading:i}=C(l=>l.listingSchoolHouses),h=P(),x=S(),e=U(),a=y("(max-width:480px)"),r=y("(max-width:920px)"),[n,p]=u.useState({search:!1,searching:!1}),[f,k]=u.useState(),{getPaginatedData:v}=$(),{getLocalStorage:I}=E(),m=N(h.palette.mode),b=document.getElementById("reload-btn"),z=()=>{b.style.display="none",p({search:!1,searching:!1,oldPagination:f})};return u.useEffect(()=>{const l=I("menu");e(R(l.selected))},[]),console.log("data",o),t.jsxs(d,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:h.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${w})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${w})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(d,{height:a?"19vh":r?"8vh":"11vh",borderRadius:"4px",padding:a?"1vh":"2vh",backgroundColor:m.blueAccent[700],children:t.jsxs(d,{display:"flex",height:a?"16vh":"7vh",flexDirection:a?"column":"row",justifyContent:"space-between",alignItems:a?"center":"normal",children:[t.jsx(T,{component:"h2",variant:"h2",color:m.grey[100],fontWeight:"bold",children:c}),t.jsx(H,{action:A,api:j.SchoolHouseAPI,getSearchData:v,oldPagination:f,reloadBtn:b,setSearchFlag:p}),s>1&&t.jsxs(g,{type:"submit",color:"success",variant:"contained",onClick:()=>{x("/school-house/create")},sx:{height:r?"4vh":"auto"},children:["Create New ",c]})]})}),t.jsxs(g,{sx:{display:"none",position:"absolute",top:a?"23vh":r?"10.5vh":"16.5vh",left:a?"80vw":r?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:m.grey[100],marginLeft:"14vh"},id:"reload-btn",type:"button",onClick:z,children:[t.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:t.jsx(O,{})}),"Back"]}),t.jsx(_,{action:A,api:j.SchoolHouseAPI,getQuery:v,columns:M(s),rows:o==null?void 0:o.data,count:o==null?void 0:o.count,loading:i,selected:c,pageSizeOptions:W,setOldPagination:k,searchFlag:n,setSearchFlag:p})]})};F.propTypes={rolePriority:B.number};export{F as default};
