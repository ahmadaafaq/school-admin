import{n as P,u as k,t as N,j as t,B as r,T as h,h as m,N as R,m as A,o as D,b as j,a as p,s as B,A as v,P as E,U as M}from"./index-dsWAcX1f.js";import{d as U,l as C,S as L,a as $,b as z}from"./listBG-dw88K66u.js";import{u as O}from"./index-uKa1WJb8.js";import"./FormControlLabel-GbaKk4ky.js";import"./toPropertyKey-Z1a84DJL.js";import"./typeof-LnL08gqA.js";import"./CircularProgress-4dZqOr9B.js";const F=(i=null)=>{const o=P(),s=k(),n=N(s.palette.mode),l=e=>{o(`/payment/update/${e}`,{state:{id:e}})};return[{field:"student_id",headerName:" Name",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"academic_year",headerName:"Academic Year",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"amount",headerName:"Amount",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"due_date",headerName:"Due Date",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"type",headerName:"Type",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{type:e}})=>t.jsx(r,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="school"?n.greenAccent[600]:e==="event"?n.redAccent[700]:e==="cycle stand"?n.blueAccent[800]:n.blueAccent[900],borderRadius:"4px",children:t.jsx(h,{color:n.grey[100],children:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()||""})})},{field:"payment_status",headerName:"Payment Status",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{payment_status:e}})=>t.jsx(r,{width:"100%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="pending"?n.greenAccent[600]:e==="partial"?n.redAccent[700]:n.blueAccent[800],borderRadius:"4px",children:t.jsx(h,{color:n.grey[100],children:e.charAt(0).toUpperCase()+e.slice(1)||""})})},{field:"payment_method",headerName:"Payment Method",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{payment_method:e}})=>t.jsx(r,{width:"100%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",borderRadius:"4px",backgroundColor:e==="cash"?n.greenAccent[600]:e==="credit card"?n.redAccent[700]:n.blueAccent[800],children:t.jsx(h,{color:n.grey[100],children:e.charAt(0).toUpperCase()+e.slice(1)||""})})},{field:"payment_date",headerName:"Payment Date",headerAlign:"center",align:"center",flex:1,minWidth:100},i!==1&&{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(r,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(m,{color:"info",variant:"contained",onClick:()=>l(e),sx:{minWidth:"50px"},children:t.jsx(U,{})})})}]},w=i=>({type:R.SET_PAYMENTS,payload:i}),Q=[5,10,20],Y=({rolePriority:i=null})=>{const o=A(c=>c.menuItems.selected),{listData:s,loading:n}=A(c=>c.allPayments),l=k(),x=P(),e=D(),a=j("(max-width:480px)"),d=j("(max-width:920px)"),[S,u]=p.useState({search:!1,searching:!1}),[f,T]=p.useState(),{getPaginatedData:b}=O(),{getLocalStorage:W}=M(),g=N(l.palette.mode),y=document.getElementById("reload-btn"),I=()=>{y.style.display="none",u({search:!1,searching:!1,oldPagination:f})};return p.useEffect(()=>{const c=W("menu");e(B(c.selected))},[]),t.jsxs(r,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:l.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${C})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${C})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(r,{height:a?"19vh":d?"8vh":"11vh",borderRadius:"4px",padding:a?"1vh":"2vh",backgroundColor:g.blueAccent[700],children:t.jsxs(r,{display:"flex",height:a?"16vh":"7vh",flexDirection:a?"column":"row",justifyContent:"space-between",alignItems:a?"center":"normal",children:[t.jsx(h,{component:"h2",variant:"h2",color:g.grey[100],fontWeight:"bold",children:o}),t.jsx(L,{action:w,api:v.PaymentAPI,getSearchData:b,oldPagination:f,reloadBtn:y,setSearchFlag:u}),i>1&&t.jsxs(m,{type:"submit",color:"success",variant:"contained",onClick:()=>{x("/payment/create")},sx:{height:d?"4vh":"auto"},children:["Create New ",o]})]})}),t.jsxs(m,{sx:{display:"none",position:"absolute",top:a?"23vh":d?"10.5vh":"16.5vh",left:a?"80vw":d?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:g.grey[100],marginLeft:"14vh"},id:"reload-btn",type:"button",onClick:I,children:[t.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:t.jsx($,{})}),"Back"]}),t.jsx(z,{action:w,api:v.PaymentAPI,getQuery:b,columns:F(i),rows:s.rows,count:s.count,loading:n,selected:o,pageSizeOptions:Q,setOldPagination:T,searchFlag:S,setSearchFlag:u})]})};Y.propTypes={rolePriority:E.number};export{Y as default};
