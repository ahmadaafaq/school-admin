import{u as b,t as C,k as h,b as w,h as T,j as t,B as l,T as I,p as g,A as D,x as L,d as j,a as d,s as M,m as A,U as O}from"./index-MsP7Yzml.js";import{d as U,u as $,S as _,a as F,b as G,c as z}from"./index-9BU2f8bX.js";import"./FormControlLabel-c6D5vxEv.js";import"./Autocomplete-UT5QdtF-.js";import"./index-a8hLBBUR.js";const Q=()=>{const a=b(),s=C(a.palette.mode);h(e=>e.menuItems.selected),h(e=>e.allClasses),w();const u=T(),r=e=>{u(`/student/update/${e}`,{state:{id:e}})};return[{field:"fullname",headerName:"NAME",headerAlign:"center",align:"center",flex:1,minWidth:120,valueGetter:e=>`${e.row.firstname||""} ${e.row.lastname||""}`},{field:"class",headerName:"CLASS",headerAlign:"center",align:"center",flex:1,minWidth:100,renderCell:e=>t.jsxs("div",{children:[e.row.class," ",e.row.section]})},{field:"blood_group",headerName:"Blood Group",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"dob",headerName:"DATE OF BIRTH",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"status",headerName:"STATUS",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(l,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?s.greenAccent[600]:s.redAccent[700],borderRadius:"4px",children:t.jsx(I,{color:s.grey[100],sx:{ml:"5px"},children:e})})},{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(l,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(g,{color:"info",variant:"contained",onClick:()=>r(e),sx:{minWidth:"50px"},children:t.jsx(U,{})})})}]},S=a=>({type:D.SET_STUDENTS,payload:a}),H=[5,10,20],Y=()=>{const a=b(),s=T(),u=w(),r=L(),n=j("(max-width:480px)"),e=j("(max-width:920px)"),c=h(i=>i.menuItems.selected),{listData:x}=h(i=>i.allStudents),[N,m]=d.useState({search:!1,searching:!1}),[f,E]=d.useState(),{getPaginatedData:v}=$(),{getLocalStorage:k,setLocalStorage:P}=O(),p=C(a.palette.mode),y=document.getElementById("reload-btn"),B=z,o=r?r.classId:null;let R=o?{key:"classId",value:o}:null;d.useEffect(()=>{const i=k("menu");u(M(i.selected))},[]),d.useEffect(()=>{o&&P("class",o)},[o]);const W=()=>{y.style.display="none",m({search:!1,searching:!1,oldPagination:f})};return t.jsxs(l,{m:"10px",position:"relative",children:[t.jsx(l,{height:n?"19vh":e?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:p.blueAccent[700],children:t.jsxs(l,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[t.jsx(I,{component:"h2",variant:"h2",color:p.grey[100],fontWeight:"bold",children:c}),t.jsx(_,{action:S,api:A.StudentAPI,getSearchData:v,oldPagination:f,reloadBtn:y,setSearchFlag:m}),t.jsx(g,{type:"submit",color:"success",variant:"contained",onClick:()=>{s("/student/create")},sx:{height:e?"4vh":"auto"},children:B.includes(c)?"Admission":`Create New ${c}`})]})}),t.jsxs(g,{sx:{display:"none",position:"absolute",top:n?"23vh":e?"10.5vh":"16.5vh",left:n?"80vw":e?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:p.grey[100]},id:"reload-btn",type:"button",onClick:W,children:[t.jsx("span",{style:{display:"inherit",marginRight:"5px",marginLeft:"-2px"},children:t.jsx(F,{})}),"Back"]}),t.jsx(G,{action:S,api:A.StudentAPI,getQuery:v,columns:Q(),condition:R,rows:x.rows,count:x.count,selected:c,pageSizeOptions:H,setOldPagination:E,searchFlag:N,setSearchFlag:m})]})};export{Y as default};
