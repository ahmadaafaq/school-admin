import{u as C,t as A,f as u,h as b,j as e,B as c,T as w,o as p,q as E,k,b as v,a as m,s as W,A as y,U as P}from"./index-j0XQm0-z.js";import{d as R,S as D,a as _,b as L}from"./DriveFileRenameOutlineOutlined-4CHf_UY8.js";import{u as M}from"./index-WHxx72WB.js";import"./FormControlLabel-vP-JM7OO.js";import"./Chip-tKtg7KcT.js";import"./index-CJPbghPq.js";import"./ListItemText-e9tRpIBM.js";const O=()=>{const o=C(),a=A(o.palette.mode),l=u(t=>t.menuItems.selected),n=b(),s=t=>{n(`/${l.toLowerCase()}/update/${t}`,{state:{id:t}})};return[{field:"registration_no",headerName:"Registration Number",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"driver",headerName:"Driver",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"contact_no",headerName:"CONTACT",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"license_no",headerName:"LICENSE",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"status",headerName:"STATUS",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:t}})=>e.jsx(c,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:t==="active"?a.greenAccent[600]:a.redAccent[700],borderRadius:"4px",children:e.jsx(w,{color:a.grey[100],sx:{ml:"5px"},children:t})})},{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:t}})=>e.jsx(c,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:e.jsx(p,{color:"info",variant:"contained",onClick:()=>s(t),sx:{minWidth:"50px"},children:e.jsx(R,{})})})}]},j=o=>({type:E.SET_BUSES,payload:o}),U=[5,10,20],J=()=>{const o=C(),a=b(),l=k(),n=v("(max-width:480px)"),s=v("(max-width:920px)"),i=u(r=>r.menuItems.selected),{listData:t,loading:S}=u(r=>r.allBuses),[T,d]=m.useState({search:!1,searching:!1}),[g,N]=m.useState(),{getPaginatedData:x}=M(),{getLocalStorage:B}=P(),h=A(o.palette.mode),f=document.getElementById("reload-btn");m.useEffect(()=>{const r=B("menu");l(W(r.selected))},[]);const I=()=>{f.style.display="none",d({search:!1,searching:!1,oldPagination:g})};return e.jsxs(c,{m:"10px",position:"relative",children:[e.jsx(c,{height:n?"19vh":s?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:h.blueAccent[700],children:e.jsxs(c,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[e.jsx(w,{component:"h2",variant:"h2",color:h.grey[100],fontWeight:"bold",children:i}),e.jsx(D,{action:j,api:y.BusAPI,getSearchData:x,oldPagination:g,reloadBtn:f,setSearchFlag:d}),e.jsxs(p,{type:"submit",color:"success",variant:"contained",onClick:()=>{a(`/${i.toLowerCase()}/create`)},sx:{height:s?"4vh":"auto"},children:["Create New ",i]})]})}),e.jsxs(p,{sx:{display:"none",position:"absolute",top:n?"23vh":s?"10.5vh":"16.5vh",left:n?"80vw":s?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:h.grey[100]},id:"reload-btn",type:"button",onClick:I,children:[e.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:e.jsx(_,{})}),"Back"]}),e.jsx(L,{action:j,api:y.BusAPI,getQuery:x,columns:O(),rows:t.rows,count:t.count,loading:S,selected:i,pageSizeOptions:U,setOldPagination:N,searchFlag:T,setSearchFlag:d})]})};export{J as default};
