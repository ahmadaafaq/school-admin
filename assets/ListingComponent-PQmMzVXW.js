import{u as v,t as A,f as p,h as C,j as t,B as r,T as S,o as u,k as _,b as y,a as m,s as B,A as b,U as P}from"./index-j0XQm0-z.js";import{d as T,S as R,a as D,b as E}from"./DriveFileRenameOutlineOutlined-4CHf_UY8.js";import{s as j}from"./SchoolAction-AhFwU82D.js";import{u as L}from"./index-WHxx72WB.js";import"./FormControlLabel-vP-JM7OO.js";import"./Chip-tKtg7KcT.js";import"./index-CJPbghPq.js";import"./ListItemText-e9tRpIBM.js";const M=()=>{const c=v(),a=A(c.palette.mode),l=p(e=>e.menuItems.selected),n=C(),o=e=>{n(`/${l.toLowerCase()}/update/${e}`,{state:{id:e}})};return[{field:"affiliation_no",headerName:"Affiliation Number",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"name",headerName:"Name",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"board",headerName:"Board",headerAlign:"center",align:"center",flex:1,minWidth:80},{field:"sub_type",headerName:"Sub Type",headerAlign:"center",align:"center",flex:1,minWidth:80,valueGetter:e=>e.row.sub_type.charAt(0).toUpperCase()+e.row.sub_type.slice(1)},{field:"contact_no_1",headerName:"Contact Number",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"status",headerName:"Status",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(r,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?a.greenAccent[600]:a.redAccent[700],borderRadius:"4px",children:t.jsx(S,{color:a.grey[100],sx:{ml:"5px"},children:e})})},{field:"action",headerName:"Action",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(r,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(u,{color:"info",variant:"contained",onClick:()=>o(e),sx:{minWidth:"50px"},children:t.jsx(T,{})})})}]},$=[5,10,20],J=()=>{const c=v(),a=C(),l=_(),n=y("(max-width:480px)"),o=y("(max-width:920px)"),s=p(i=>i.menuItems.selected),{listData:e,loading:w}=p(i=>i.allSchools),[N,d]=m.useState({search:!1,searching:!1}),[x,I]=m.useState(),h=A(c.palette.mode),g=document.getElementById("reload-btn"),{getPaginatedData:f}=L(),{getLocalStorage:W}=P();m.useEffect(()=>{const i=W("menu");l(B(i.selected))},[]);const k=()=>{g.style.display="none",d({search:!1,searching:!1,oldPagination:x})};return t.jsxs(r,{m:"10px",position:"relative",children:[t.jsx(r,{height:n?"19vh":o?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:h.blueAccent[700],position:"relative",children:t.jsxs(r,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[t.jsx(S,{component:"h2",variant:"h2",color:h.grey[100],fontWeight:"bold",children:s}),t.jsx(R,{action:j,api:b.SchoolAPI,getSearchData:f,oldPagination:x,reloadBtn:g,setSearchFlag:d}),t.jsxs(u,{type:"submit",color:"success",variant:"contained",onClick:()=>{a(`/${s.toLowerCase()}/create`)},sx:{height:o?"4vh":"auto"},children:["Create New ",s]})]})}),t.jsxs(u,{sx:{display:"none",position:"absolute",top:n?"202px":o?"142px":"110px",left:n||o?"320px":"325px",zIndex:10,borderRadius:"10%",color:h.grey[100]},id:"reload-btn",type:"button",onClick:k,children:[t.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:t.jsx(D,{})}),"Back"]}),t.jsx(E,{action:j,api:b.SchoolAPI,getQuery:f,columns:M(),rows:e.rows,count:e.count,loading:w,selected:s,pageSizeOptions:$,setOldPagination:I,searchFlag:N,setSearchFlag:d})]})};export{J as default};
