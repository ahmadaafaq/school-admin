import{v as A,u as w,t as j,j as t,B as s,T as C,p as E,U as S,X as I,l as x,w as B,h as f,a as h,y as D,A as y,P as $}from"./index-zLCHO5gj.js";import{l as v,S as R,a as M}from"./listBG-jqFZybtA.js";import{d as G}from"./DriveFileRenameOutlineOutlined-sr1QJdZi.js";import{u as z}from"./index-mkkoW40k.js";import"./FormControlLabel-SXp-cdUw.js";import"./toPropertyKey-mta9U6ZT.js";import"./typeof-Q9eVcF_1.js";import"./ListItemText-2nz_AZOg.js";import"./CircularProgress-ieWN9mTc.js";import"./TableCell-yZ9kbJpi.js";const F=(a=null)=>{const i=A(),c=w(),n=j(c.palette.mode),{capitalizeEveryWord:r,formatDate:d}=S(),m=e=>{i(`/employee/update/${e}`,{state:{id:e}})};return[{field:"fullname",headerName:"Name",headerAlign:"center",align:"center",flex:1,minWidth:120,valueGetter:e=>`${r(e.row.firstname)||""} ${r(e.row.lastname)||""}`},{field:"email",headerName:"E-mail",headerAlign:"center",align:"center",flex:1,minWidth:100,renderCell:e=>e.value||"N/A"},{field:"contact_no",headerName:"Contact No",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"role",headerName:"Role",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"dob",headerName:"Date of Birth",headerAlign:"center",align:"center",flex:1,minWidth:100,valueFormatter:e=>`${d(e.value)}`},{field:"gender",headerName:"Gender",headerAlign:"center",align:"center",flex:1,minWidth:100,valueGetter:e=>`${e.row.gender.charAt(0).toUpperCase()+e.row.gender.slice(1)||""}`},{field:"status",headerName:"Status",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(s,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?n.greenAccent[600]:n.redAccent[700],borderRadius:"4px",children:t.jsx(C,{color:n.grey[100],sx:{ml:"5px"},children:r(e)||""})})},a!==1&&{field:"action",headerName:"Action",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(s,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(E,{color:"info",variant:"contained",onClick:()=>m(e),sx:{minWidth:"50px"},children:t.jsx(G,{})})})}]},b=a=>({type:I.SET_EMPLOYEES,payload:a}),L=[5,10,20],O=({rolePriority:a=null})=>{const i=x(l=>l.menuItems.selected),{listData:c,loading:n}=x(l=>l.allEmployees),r=w(),d=A(),m=B(),o=f("(max-width:480px)"),e=f("(max-width:920px)"),[N,p]=h.useState({search:!1,searching:!1}),[k,P]=h.useState(),{getPaginatedData:g}=z(),{getLocalStorage:W}=S(),u=j(r.palette.mode),T=document.getElementById("reload-btn");return h.useEffect(()=>{const l=W("menu");m(D(l.selected))},[]),t.jsxs(s,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:r.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${v})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${v})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(s,{height:o?"19vh":e?"8vh":"11vh",borderRadius:"4px",padding:o?"1vh":"2vh",backgroundColor:u.blueAccent[700],children:t.jsxs(s,{display:"flex",height:o?"16vh":"7vh",flexDirection:o?"column":"row",justifyContent:"space-between",alignItems:o?"center":"normal",children:[t.jsx(C,{component:"h2",variant:"h2",color:u.grey[100],fontWeight:"bold",children:i}),t.jsx(R,{action:b,api:y.EmployeeAPI,getSearchData:g,oldPagination:k,reloadBtn:T,setSearchFlag:p}),a>1&&t.jsxs(E,{type:"submit",color:"success",variant:"contained",onClick:()=>{d("/employee/create")},sx:{height:e?"4vh":"auto"},children:["Create New ",i]})]})}),t.jsx(M,{action:b,api:y.EmployeeAPI,getQuery:g,columns:F(a),rows:c.rows,count:c.count,loading:n,selected:i,pageSizeOptions:L,setOldPagination:P,searchFlag:N,setSearchFlag:p})]})};O.propTypes={rolePriority:$.number};export{O as default};
