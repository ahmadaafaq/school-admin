import{v as S,j as t,B as i,p as b,l as m,u as P,w as C,h as p,a as c,t as T,y as k,T as E,A as x,P as I,U as F}from"./index-zLCHO5gj.js";import{l as f,S as B,a as L}from"./listBG-jqFZybtA.js";import{d as U}from"./DriveFileRenameOutlineOutlined-sr1QJdZi.js";import{s as v}from"./SchoolDurationAction-rgIDFYqb.js";import{u as R}from"./index-mkkoW40k.js";import"./FormControlLabel-SXp-cdUw.js";import"./toPropertyKey-mta9U6ZT.js";import"./typeof-Q9eVcF_1.js";import"./ListItemText-2nz_AZOg.js";import"./CircularProgress-ieWN9mTc.js";import"./TableCell-yZ9kbJpi.js";const M=()=>{const a=S(),n=e=>{a(`/school-duration/update/${e}`,{state:{id:e}})};return[{field:"period",headerName:"Period",headerAlign:"center",align:"center",flex:1},{field:"halves",headerName:"Halves",headerAlign:"center",align:"center",flex:1},{field:"recess_time",headerName:"Recess Time",headerAlign:"center",align:"center",flex:1},{field:"first_half_period_duration",headerName:"First Half periods Duration",headerAlign:"center",align:"center",flex:1},{field:"second_half_period_duration",headerName:"Second Half periods Duration",headerAlign:"center",align:"center",flex:1},{field:"opening_time",headerName:"Opening Time",headerAlign:"center",align:"center",flex:1,valueFormatter:e=>new Date(e==null?void 0:e.value).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},{field:"closing_time",headerName:"Closing Time",headerAlign:"center",align:"center",flex:1,valueFormatter:e=>new Date(e==null?void 0:e.value).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},{field:"employee_entry_time",headerName:"Employee Entry",headerAlign:"center",align:"center",flex:1,valueFormatter:e=>new Date(e==null?void 0:e.value).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},{field:"employee_exit_time",headerName:"Employee Exit",headerAlign:"center",align:"center",flex:1,valueFormatter:e=>new Date(e==null?void 0:e.value).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},{field:"action",headerName:"Action",headerAlign:"center",align:"center",flex:1,renderCell:({row:{id:e}})=>t.jsx(i,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(b,{color:"info",variant:"contained",onClick:()=>n(e),sx:{minWidth:"50px"},children:t.jsx(U,{})})})}]},H=[5,10,20],O=({rolePriority:a=null})=>{const n=m(r=>r.menuItems.selected),{listData:l,loading:e}=m(r=>r.allSchoolDurations),s=P(),y=S(),A=C(),o=p("(max-width:480px)"),d=p("(max-width:920px)"),[w,u]=c.useState({search:!1,searching:!1}),[D,j]=c.useState(),{getPaginatedData:h}=R(),{getLocalStorage:_}=F(),g=T(s.palette.mode),N=document.getElementById("reload-btn");return c.useEffect(()=>{const r=_("menu");A(k(r.selected))},[]),t.jsxs(i,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:s.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${f})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${f})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(i,{height:o?"19vh":d?"8vh":"11vh",borderRadius:"4px",padding:o?"1vh":"2vh",backgroundColor:g.blueAccent[700],children:t.jsxs(i,{display:"flex",height:o?"16vh":"7vh",flexDirection:o?"column":"row",justifyContent:"space-between",alignItems:o?"center":"normal",children:[t.jsx(E,{component:"h2",variant:"h2",color:g.grey[100],fontWeight:"bold",children:n}),t.jsx(B,{action:v,api:x.SchoolDurationAPI,getSearchData:h,oldPagination:D,reloadBtn:N,setSearchFlag:u}),a>1&&t.jsxs(b,{type:"submit",color:"success",variant:"contained",onClick:()=>{y("/school-duration/create")},sx:{height:d?"4vh":"auto"},children:["Create New ",n]})]})}),t.jsx(L,{action:v,api:x.SchoolDurationAPI,getQuery:h,columns:M(),rows:l.rows,count:l.count,loading:e,selected:n,pageSizeOptions:H,setOldPagination:j,searchFlag:w,setSearchFlag:u})]})};O.propTypes={rolePriority:I.number};export{O as default};
