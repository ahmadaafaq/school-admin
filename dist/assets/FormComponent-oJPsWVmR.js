import{a as o,f as L,k as ge,b as X,v as we,R as Be,A as y,E as Ce,j as a,B as M,n as D,I as z,S as Y,M as j,w as U,m as f,U as ne,u as pe,t as xe,G as ke,H as Pe,L as Ee,J as Ne,o as O,h as Le,x as Me,d as We,l as $e,s as De,T as ze,p as Ye}from"./index-wJj9abeo.js";import{d as ce}from"./dayjs.min-3WyAvf2v.js";import{A as Ue}from"./AddressFormComponent-2wzYeNmw.js";import{d as qe,I as Oe}from"./ImagePicker-l40Oa1J_.js";import{c as Ge,a as q,L as Re}from"./Loader-V9kt_BZH.js";import{s as Ve}from"./SectionAction-bDNrVPg3.js";import{u as fe}from"./index-ngBz0NVi.js";import{A as He,F as Je,C as Qe}from"./FormControlLabel-rkyz9wHp.js";import{L as Ke,A as Xe,D as ue,a as he,b as Ze}from"./DatePicker-VCJxWt5f.js";import{a as ea}from"./SubjectAction-mW2zJbl_.js";import{D as aa}from"./Dialog-H17IDJ7F.js";import{C as ta,a as sa,b as na}from"./CardMedia-y74GAWPs.js";import{L as me}from"./ListItemText-UY9Do7UF.js";import"./Validation-UJUBWKF9.js";import"./Chip-3qarAbJU.js";import"./index-R3E-xKkl.js";const la=/^((\+[1-9]{1,4}[ -]?)|(\([0-9]{2,3}\)[ -]?)|([0-9]{2,4})[ -]?)*?[0-9]{3,4}[ -]?[0-9]{3,4}$/,oa=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,ra=Ge().shape({firstname:q().min(2,"Firstname is Too Short!").max(20,"Firstname is Too Long!").required("This Field is Required"),lastname:q().min(2,"Lastname is Too Short!").max(20,"Lastname is Too Long!").required("This Field is Required"),email:q().matches(oa,"Email Address is Not Valid"),contact_no:q().matches(la,"Phone Number Is Not Valid").required("This Field is Required"),gender:q(),status:q()}),ia={session:"",firstname:"",lastname:"",mother_name:"",father_name:"",guardian:"",contact_no:"",email:"",class:"",section:"",subjects:[],admission_date:null,dob:null,is_specially_abled:!1,blood_group:"",birth_mark:"",religion:"",nationality:"",age:"",aadhaar_no:"",caste_group:"",gender:"",status:"inactive"},da=({onChange:t,refId:W,setDirty:Z,reset:u,setReset:c,userId:I,iCardDetails:h,setICardDetails:w,updatedValues:S=null})=>{var H,J;const[$,G]=o.useState(ia),[R,F]=o.useState([]),v=L(s=>s.allFormClasses),g=L(s=>s.allFormSections),A=ge(),B={inputProps:{"aria-label":"Checkboxes"}},T=X("(min-width:600px)"),C=X("(max-width:480px)");fe();const{createSession:k,customSort:_,createUniqueDataArray:b}=ne(),e=we({initialValues:$,validationSchema:ra,enableReinitialize:!0,onSubmit:()=>P()});Be.useImperativeHandle(W,()=>({Submit:async()=>{await e.submitForm()}}));const P=()=>{t&&t({values:e.values,validated:e.isSubmitting?Object.keys(e.errors).length===0:!1})};o.useEffect(()=>{u&&(e.resetForm(),c(!1))},[u]),o.useEffect(()=>{e.dirty&&Z(!0)},[e.dirty]),o.useEffect(()=>{S&&G(S)},[S]),o.useEffect(()=>{var s,m;(!((s=v==null?void 0:v.listData)!=null&&s.length)||!((m=g==null?void 0:g.listData)!=null&&m.length))&&y.SchoolAPI.getSchoolClasses(5).then(p=>{if(p.status==="Success"){p.data.sort(_);const Q=b(p.data,"class_id","class_name");A(Ce(Q));const ee=b(p.data,"id","name");A(Ve(ee))}else console.log("Error Fetching ClassData, Please Try Again")}).catch(p=>{console.log("Error Fetching ClassData:",p)})},[v.listData.length,g.listData.length]),o.useEffect(()=>{w({...h,...e.values})},[e.values]);const V=s=>{y.SubjectAPI.getSubjectsByClass(s).then(m=>{m.status==="Success"?F(m.data):console.log("Error Fetching Subjects, Please Try Again")}).catch(m=>{console.log("Error Fetching Subjects:",m)})};return a.jsx(M,{m:"20px",children:a.jsx("form",{ref:W,children:a.jsxs(M,{display:"grid",gap:"30px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",sx:{"& > div":{gridColumn:T?void 0:"span 4"}},children:[a.jsxs(D,{variant:"filled",sx:{minWidth:120},error:!!e.touched.session&&!!e.errors.session,children:[a.jsx(z,{id:"sessionField",children:"Session"}),a.jsx(Y,{variant:"filled",labelId:"sessionField",name:"session",value:e.values.session,onChange:s=>e.setFieldValue("session",s.target.value),children:k().map(s=>a.jsx(j,{value:s,name:s,children:s},s))}),a.jsx(U,{children:e.touched.session&&e.errors.session})]}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"firstname",label:"Firstname*",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.firstname,error:!!e.touched.firstname&&!!e.errors.firstname,helperText:e.touched.firstname&&e.errors.firstname}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"lastname",label:"Lastname*",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.lastname,error:!!e.touched.lastname&&!!e.errors.lastname,helperText:e.touched.lastname&&e.errors.lastname}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"mother_name",label:"Mother's Name*",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.mother_name,error:!!e.touched.mother_name&&!!e.errors.mother_name,helperText:e.touched.mother_name&&e.errors.mother_name}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"father_name",label:"Father's Name*",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.father_name,error:!!e.touched.father_name&&!!e.errors.father_name,helperText:e.touched.father_name&&e.errors.father_name}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"guardian",label:"Guardian If Any",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.guardian,error:!!e.touched.guardian&&!!e.errors.guardian,helperText:e.touched.guardian&&e.errors.guardian}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",label:"Contact Number*",name:"contact_no",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.contact_no,error:!!e.touched.contact_no&&!!e.errors.contact_no,helperText:e.touched.contact_no&&e.errors.contact_no}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",label:"Email",name:"email",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.email,error:!!e.touched.email&&!!e.errors.email,helperText:e.touched.email&&e.errors.email}),a.jsxs(D,{variant:"filled",sx:{minWidth:120},error:!!e.touched.class&&!!e.errors.class,children:[a.jsx(z,{id:"classField",children:"Class"}),a.jsx(Y,{variant:"filled",labelId:"classField",name:"class",value:e.values.class,onChange:s=>{e.setFieldValue("class",s.target.value),V(s.target.value)},children:((H=v==null?void 0:v.listData)==null?void 0:H.length)&&v.listData.map(s=>a.jsx(j,{value:s.class_id,name:s.class_name,children:s.class_name},s.class_name))}),a.jsx(U,{children:e.touched.class&&e.errors.class})]}),a.jsxs(D,{variant:"filled",sx:{minWidth:120},error:!!e.touched.section&&!!e.errors.section,children:[a.jsx(z,{id:"sectionField",children:"Section"}),a.jsx(Y,{variant:"filled",labelId:"sectionField",name:"section",value:e.values.section,onChange:s=>e.setFieldValue("section",s.target.value),children:((J=g==null?void 0:g.listData)==null?void 0:J.length)&&g.listData.map(s=>a.jsx(j,{value:s.id,name:s.name,children:s.name},s.name))}),a.jsx(U,{children:e.touched.section&&e.errors.section})]}),a.jsx(He,{multiple:!0,options:R||[],getOptionLabel:s=>s.name,disableCloseOnSelect:!0,value:e.values.subjects||[],onChange:(s,m)=>e.setFieldValue("subjects",m),sx:{gridColumn:"span 2"},renderInput:s=>a.jsx(f,{...s,variant:"filled",type:"text",name:"subjects",label:"subjects",error:!!e.touched.subjects&&!!e.errors.subjects,helperText:e.touched.subjects&&e.errors.subjects})}),a.jsxs(Ke,{dateAdapter:Xe,children:[a.jsx(ue,{format:"DD MMMM YYYY",views:["day","month","year"],label:"Select Date Of Birth",name:"dob",required:!0,value:e.values.dob,onChange:s=>{e.setFieldValue("dob",s)}}),a.jsx(ue,{format:"DD MMMM YYYY",views:["day","month","year"],label:"Select Admission Date",name:"admission_date",required:!0,value:e.values.admission_date,onChange:s=>{e.setFieldValue("admission_date",s)}})]}),a.jsx(Je,{label:"Is Specially Abled",sx:{gridColumn:C?"span 2":""},control:a.jsx(Qe,{...B,color:"default",checked:!!e.values.is_specially_abled,name:"is_specially_abled",onChange:(s,m)=>e.setFieldValue("is_specially_abled",m),value:e.values.is_specially_abled})}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"blood_group",label:"Blood Group",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.blood_group,error:!!e.touched.blood_group&&!!e.errors.blood_group,helperText:e.touched.blood_group&&e.errors.blood_group}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"birth_mark",label:"Birth Mark",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.birth_mark,error:!!e.touched.birth_mark&&!!e.errors.birth_mark,helperText:e.touched.birth_mark&&e.errors.birth_mark}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"religion",label:"Religion",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.religion,error:!!e.touched.religion&&!!e.errors.religion,helperText:e.touched.religion&&e.errors.religion}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"nationality",label:"Nationality",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.nationality,error:!!e.touched.nationality&&!!e.errors.nationality,helperText:e.touched.nationality&&e.errors.nationality}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"age",label:"Age",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.age,error:!!e.touched.age&&!!e.errors.age,helperText:e.touched.age&&e.errors.age}),a.jsx(f,{fullWidth:!0,variant:"filled",type:"text",name:"aadhaar_no",label:"Aadhaar Number",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.aadhaar_no,error:!!e.touched.aadhaar_no&&!!e.errors.aadhaar_no,helperText:e.touched.aadhaar_no&&e.errors.aadhaar_no}),a.jsxs(D,{variant:"filled",sx:{minWidth:120},error:!!e.touched.caste_group&&!!e.errors.caste_group,children:[a.jsx(z,{id:"castGroupField",children:"Caste Group"}),a.jsxs(Y,{variant:"filled",labelId:"castGroupField",name:"caste_group",value:e.values.caste_group,onChange:e.handleChange,children:[a.jsx(j,{value:"general",children:"General"}),a.jsx(j,{value:"obc",children:"OBC"}),a.jsx(j,{value:"sc",children:"SC"}),a.jsx(j,{value:"st",children:"ST"})]}),a.jsx(U,{children:e.touched.caste_group&&e.errors.caste_group})]}),a.jsxs(D,{variant:"filled",sx:{minWidth:120},error:!!e.touched.gender&&!!e.errors.gender,children:[a.jsx(z,{id:"genderField",children:"Gender"}),a.jsxs(Y,{variant:"filled",labelId:"genderField",name:"gender",value:e.values.gender,onChange:e.handleChange,children:[a.jsx(j,{value:"male",children:"Male"}),a.jsx(j,{value:"female",children:"Female"}),a.jsx(j,{value:"other",children:"Other"})]}),a.jsx(U,{children:e.touched.gender&&e.errors.gender})]}),a.jsxs(D,{variant:"filled",sx:{minWidth:120},error:!!e.touched.status&&!!e.errors.status,children:[a.jsx(z,{id:"statusField",children:"Status"}),a.jsxs(Y,{variant:"filled",labelId:"statusField",name:"status",value:e.values.status,onChange:e.handleChange,children:[a.jsx(j,{value:"active",children:"Active"}),a.jsx(j,{value:"inactive",children:"Inactive"})]}),a.jsx(U,{children:e.touched.status&&e.errors.status})]})]})})})},ca=({iCardDetails:t,setICardDetails:W,handleSubmitDialog:Z,openDialog:u,setOpenDialog:c})=>{var C,k,_,b;const[I,h]=o.useState([]),w=L(e=>e.allFormClasses),S=L(e=>e.allFormSections),$=pe(),G=xe($.palette.mode),R=X($.breakpoints.down("md"));X("(max-width:480px)"),X("(max-width:920px)");let F=[];const{appendSuffix:v,findById:g}=ne(),A=(C=g(t==null?void 0:t.class,w==null?void 0:w.listData))==null?void 0:C.class_name,B=(k=g(t==null?void 0:t.section,S==null?void 0:S.listData))==null?void 0:k.name;console.log("imageFile=>",I),o.useEffect(()=>{y.SchoolAPI.getDetailsForICard().then(e=>{e.status==="Success"?(console.log(e.data,"school data"),W({...t,schoolData:e.data[0]})):console.log("Error Fetching School Data, Please Try Again")}).catch(e=>{console.log("Error Fetching SchoolData:",e)})},[]),console.log(t,"formatted details in modal");const T=e=>{const P=new FileReader;P.onloadend=()=>{F.push(P.result),h([...F])},P.readAsDataURL(e)};return o.useEffect(()=>{t!=null&&t.Student&&T(t.Student[0])},[t==null?void 0:t.Student]),a.jsxs(aa,{fullScreen:R,open:u,"aria-labelledby":"responsive-dialog-title",id:"dialog",children:[a.jsxs(ta,{sx:{width:"340px"},children:[a.jsxs(M,{sx:{display:"grid",gridTemplateColumns:"0.3fr 1fr",backgroundColor:G.blueAccent[500],color:"#f6f6f2",borderRadius:"4px",margin:"8px 6px"},children:[a.jsx(ke,{sx:{bgcolor:Pe[500],height:"50px",width:"50px",justifySelf:"center",alignSelf:"center"},"aria-label":"student-id-card",children:"Logo"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[a.jsx("p",{className:"heading-text",style:{textAlign:"left",fontSize:"16px",marginBottom:"2px"},children:(_=t==null?void 0:t.schoolData)==null?void 0:_.name}),a.jsx("p",{className:"normal-text",style:{margin:"0"},children:(b=t==null?void 0:t.schoolData)==null?void 0:b.registered_by})]}),a.jsx("p",{className:"normal-text",style:{gridColumn:"span 2",textAlign:"center"},children:t!=null&&t.schoolData?`${t.schoolData.street}
                     ${t.schoolData.landmark} ${t.schoolData.city} ${t.schoolData.state}
                      ${t.schoolData.country}-${t.schoolData.zipcode}`:""})]}),a.jsx(sa,{component:"img",image:I,alt:"student-image",sx:{height:140,width:120,margin:"10px auto",border:"5px solid blue",boxShadow:"3px 3px 8px #043927"}}),a.jsx(na,{sx:{paddingTop:"0"},children:a.jsxs(Ee,{sx:{width:"100%",padding:"0",bgcolor:"background.paper"},children:[a.jsx(he,{sx:{padding:"0 16px"},children:a.jsx(me,{primary:(t==null?void 0:t.firstname)&&(t==null?void 0:t.lastname)&&`${t.firstname} ${t.lastname}`,primaryTypographyProps:{fontWeight:"400",fontSize:"14px",letterSpacing:"0.8px",textTransform:"capitalize",textAlign:"center"}})}),a.jsx(he,{sx:{padding:"0 16px"},children:a.jsx(me,{primary:t==null?void 0:t.session,primaryTypographyProps:{fontWeight:"400",fontSize:"14px",letterSpacing:"0.8px",textTransform:"capitalize",textAlign:"center"}})}),a.jsxs(M,{sx:{display:"grid",gridTemplateColumns:"1fr 1.5fr",gap:"10px"},children:[a.jsx("span",{className:"heading-text",children:" Father's Name: "}),a.jsxs("span",{className:"normal-text",children:[" ",t.father_name?t.father_name:""," "]}),a.jsx("span",{className:"heading-text",children:"Class:"}),a.jsx("span",{className:"normal-text",children:A?`${v(A)} ${B}`:""}),a.jsx("span",{className:"heading-text",children:"DOB:"}),a.jsx("span",{className:"normal-text",children:t.dob?t.dob.format("YYYY-MM-DD"):""}),a.jsx("span",{className:"heading-text",children:"Phone:"}),a.jsx("span",{className:"normal-text",children:t.contact_no?t.contact_no:""})]})]})}),a.jsxs(M,{sx:{},children:[a.jsx(f,{accept:"image/*, application/pdf",label:"Upload Digital Signature",value:void 0,size:"small",InputProps:{multiple:!0,startAdornment:a.jsxs(Ne,{component:"label",sx:{width:"88%"},children:[a.jsx(qe,{}),a.jsx("input",{hidden:!0,multiple:!0,type:"file",name:"file",onChange:e=>{console.log(e,"image-path"),h(e.target.files)}})]})},sx:{m:1,outline:"none",width:"45%",textAlign:"end"}}),a.jsx("p",{style:{fontWeight:"700",fontSize:"14px",letterSpacing:"0.8px",margin:"0 45px",textAlign:"end"},children:" Principal "})]})]}),a.jsxs(Ze,{sx:{padding:"8px 12px"},children:[a.jsx(O,{color:"info",variant:"outlined",children:"Download"}),a.jsx(O,{color:"warning",variant:"outlined",onClick:()=>c(!1),children:"Close"})]})]})},Ia=()=>{var oe,re,ie;const[t,W]=o.useState("Create"),[Z,u]=o.useState(!1),[c,I]=o.useState({studentData:{values:null,validated:!1},addressData:{values:null,validated:!1},imageData:{values:null,validated:!0}}),[h,w]=o.useState(null),[S,$]=o.useState([]),[G,R]=o.useState([]),[F,v]=o.useState(!1),[g,A]=o.useState(!1),[B,T]=o.useState(!1),[C,k]=o.useState(!1),[_,b]=o.useState({}),e=L(n=>n.allSubjects),P=L(n=>n.menuItems.selected),V=L(n=>n.toastInfo),H=o.useRef(),J=o.useRef(),s=o.useRef(),m=Le(),p=ge(),Q=Me(),ee=pe(),ve=xe(ee.palette.mode),{typography:le}=We(ee.palette.mode),{state:te}=$e(),{getPaginatedData:je}=fe(),{toastAndNavigate:E,getLocalStorage:ae,getIdsFromObject:be,findMultipleById:ye}=ne();let N=(te==null?void 0:te.id)||(Q==null?void 0:Q.id);const Se=!N||N&&!((oe=h==null?void 0:h.studentData)!=null&&oe.id_card);o.useEffect(()=>{const n=ae("menu");p(De(n.selected))},[]);const _e=o.useCallback(n=>{console.log("formdataABCD",n);const x=[{...n.studentData.values},{...n.addressData.values}],l=["/update-student","/update-address"];u(!0),y.CommonAPI.multipleAPICall("PATCH",l,x).then(r=>{let i=!0;r.forEach(d=>{d.data.status!=="Success"&&(i=!1)}),i&&(u(!1),E(p,!0,"info","Successfully Updated",m,`/student/listing/${ae("class")}`)),u(!1)}).catch(r=>{var i,d;throw u(!1),E(p,!0,"error",(d=(i=r==null?void 0:r.response)==null?void 0:i.data)==null?void 0:d.msg),r})},[c]),Fe=n=>{u(!0);const x=[`/get-by-pk/student/${n}`,`/get-address/student/${n}`];y.CommonAPI.multipleAPICall("GET",x).then(l=>{var i,d,K;l[0].data.data&&(l[0].data.data.subjects=ye(l[0].data.data.subjects,(i=e==null?void 0:e.listData)==null?void 0:i.rows),l[0].data.data.dob=ce(l[0].data.data.dob),l[0].data.data.admission_date=ce(l[0].data.data.admission_date));const r={studentData:l[0].data.data,addressData:(K=(d=l[1])==null?void 0:d.data)==null?void 0:K.data};w(r),u(!1)}).catch(l=>{var r,i;throw u(!1),E(p,!0,"error",(i=(r=l==null?void 0:l.response)==null?void 0:r.data)==null?void 0:i.msg),l})},Ae=()=>{var x;let n;u(!0),c.studentData.values={...c.studentData.values,subjects:be((x=c.studentData.values)==null?void 0:x.subjects)},y.StudentAPI.createStudent({...c.studentData.values}).then(({data:l})=>{(l==null?void 0:l.status)==="Success"&&y.AddressAPI.createAddress({...c.addressData.values,parent_id:l.data.id,parent:"student"}).then(r=>{var i;return(i=c.imageData.values.Student)!=null&&i.length&&(n=Array.from(c.imageData.values.Student).map(async d=>{console.log(d,"front end image"),y.ImageAPI.uploadImage({image:d})})),Promise.all(n).then(d=>{u(!1),E(p,!0,"success","Successfully Created",m,`/student/listing/${ae("class")}`)}).catch(d=>{var K,de;throw u(!1),E(p,!0,d?(de=(K=d==null?void 0:d.response)==null?void 0:K.data)==null?void 0:de.msg:"An Error Occurred",m,0),d})}).catch(r=>{var i,d;throw u(!1),E(p,!0,"error",(d=(i=r==null?void 0:r.response)==null?void 0:i.data)==null?void 0:d.msg),r})}).catch(l=>{var r,i;throw u(!1),E(p,!0,"error",(i=(r=l==null?void 0:l.response)==null?void 0:r.data)==null?void 0:i.msg,m,0),l})},Te=(n,x,l)=>{y.UserAPI.update({id:auth.id,agreement:1}),uploadDocumentToAzure(n,x,l)};o.useEffect(()=>{var n,x;(x=(n=e==null?void 0:e.listData)==null?void 0:n.rows)!=null&&x.length||je(0,50,ea,y.SubjectAPI)},[(ie=(re=e==null?void 0:e.listData)==null?void 0:re.rows)==null?void 0:ie.length]),o.useEffect(()=>{var n;N&&!g&&(W("Update"),Fe(N)),c.studentData.validated&&c.addressData.validated?(n=c.studentData.values)!=null&&n.id?_e(c):Ae():A(!1)},[N,g]);const Ie=async()=>{await H.current.Submit(),await J.current.Submit(),await s.current.Submit(),A(!0)},se=(n,x)=>{x==="student"?I({...c,studentData:n}):x==="address"?I({...c,addressData:n}):x==="student_image"&&I({...c,imageData:n})};return a.jsxs(M,{m:"10px",children:[a.jsx(ze,{fontFamily:le.fontFamily,fontSize:le.h2.fontSize,color:ve.grey[100],fontWeight:"bold",display:"inline-block",marginLeft:"20px",children:`${t} ${P}`}),a.jsx(da,{onChange:n=>{se(n,"student")},refId:H,setDirty:v,reset:B,setReset:T,userId:N,updatedValues:h==null?void 0:h.studentData,iCardDetails:_,setICardDetails:b}),a.jsx(Ue,{onChange:n=>{se(n,"address")},refId:J,update:!!N,setDirty:v,reset:B,setReset:T,updatedValues:h==null?void 0:h.addressData,iCardDetails:_,setICardDetails:b}),a.jsx(Oe,{onChange:n=>se(n,"student_image"),refId:s,reset:B,setReset:T,setDirty:v,preview:G,setPreview:R,updatedValues:h==null?void 0:h.imageData,iCardDetails:_,setICardDetails:b,deletedImage:S,setDeletedImage:$,imageType:"Student"},"image"),a.jsxs(M,{display:"flex",justifyContent:"end",m:"20px",pb:"20px",children:[Se&&a.jsxs(a.Fragment,{children:[a.jsx(O,{color:"info",variant:"contained",sx:{mr:30},disabled:!F,onClick:()=>k(!C),children:"Generate ICard"}),a.jsx(ca,{iCardDetails:_,setICardDetails:b,handleSubmitDialog:Te,openDialog:C,setOpenDialog:k})]}),t==="Update"?null:a.jsx(O,{type:"reset",color:"warning",variant:"contained",sx:{mr:3},disabled:!F||g,onClick:()=>{window.confirm("Do You Really Want To Reset?")&&T(!0)},children:"Reset"}),a.jsx(O,{color:"error",variant:"contained",sx:{mr:3},onClick:()=>m(`/student/listing/${ae("class")||""}`),children:"Cancel"}),a.jsx(O,{type:"submit",onClick:()=>Ie(),disabled:!F,color:t==="Update"?"info":"success",variant:"contained",children:"Submit"}),a.jsx(Ye,{alerting:V.toastAlert,severity:V.toastSeverity,message:V.toastMessage})]}),Z===!0?a.jsx(Re,{}):null]})};export{Ia as default};
