import{v as S,u as j,t as C,j as t,B as d,T as w,p as A,U as N,X as E,l as f,w as B,h as v,a as m,y as G,A as b,P as H}from"./index-zLCHO5gj.js";import{l as y,S as L,a as O}from"./listBG-jqFZybtA.js";import{d as R}from"./DriveFileRenameOutlineOutlined-sr1QJdZi.js";import{u as W}from"./index-mkkoW40k.js";import"./FormControlLabel-SXp-cdUw.js";import"./toPropertyKey-mta9U6ZT.js";import"./typeof-Q9eVcF_1.js";import"./ListItemText-2nz_AZOg.js";import"./CircularProgress-ieWN9mTc.js";import"./TableCell-yZ9kbJpi.js";const M=(r=null)=>{const i=S(),a=j(),s=C(a.palette.mode),{capitalizeEveryWord:n}=N(),h=e=>{i(`/school-house/update/${e}`,{state:{id:e}})};return[{field:"name",headerName:"Name",headerAlign:"center",align:"center",flex:1,valueGetter:e=>`${n(e.row.name)||""}`},{field:"captainName",headerName:"Captain",headerAlign:"center",align:"center",flex:1,valueGetter:e=>(e.row.captainName||"").split(" ").map(o=>n(o)).join(" ")},{field:"viceCaptainNname",headerName:"Vice Captain",headerAlign:"center",align:"center",flex:1,valueGetter:e=>(e.row.viceCaptainNname||"").split(" ").map(o=>n(o)).join(" ")},{field:"teacherName",headerName:"Teacher Incharge",headerAlign:"center",align:"center",flex:1,minWidth:100,valueGetter:e=>(e.row.teacherName||"").split(" ").map(o=>n(o)).join(" ")},{field:"status",headerName:"Status",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(d,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?s.greenAccent[600]:s.redAccent[700],borderRadius:"4px",children:t.jsx(w,{color:s.grey[100],sx:{ml:"5px"},children:n(e)||""})})},r!==1&&{field:"action",headerName:"Action",headerAlign:"center",align:"center",flex:1,renderCell:({row:{id:e}})=>t.jsx(d,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(A,{color:"info",variant:"contained",onClick:()=>h(e),sx:{minWidth:"50px"},children:t.jsx(R,{})})})}]},P=r=>({type:E.SET_LISTING_SCHOOL_HOUSES,payload:r}),_=[5,10,20],$=({rolePriority:r=null})=>{const i=f(l=>l.menuItems.selected),{listData:a,loading:s}=f(l=>l.listingSchoolHouses),n=j(),h=S(),u=B(),e=v("(max-width:480px)"),c=v("(max-width:920px)"),[p,o]=m.useState({search:!1,searching:!1}),[T,k]=m.useState(),{getPaginatedData:g}=W(),{getLocalStorage:I}=N(),x=C(n.palette.mode),z=document.getElementById("reload-btn");return m.useEffect(()=>{const l=I("menu");u(G(l.selected))},[]),t.jsxs(d,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:n.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${y})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${y})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(d,{height:e?"19vh":c?"8vh":"11vh",borderRadius:"4px",padding:e?"1vh":"2vh",backgroundColor:x.blueAccent[700],children:t.jsxs(d,{display:"flex",height:e?"16vh":"7vh",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"center":"normal",children:[t.jsx(w,{component:"h2",variant:"h2",color:x.grey[100],fontWeight:"bold",children:i}),t.jsx(L,{action:P,api:b.SchoolHouseAPI,getSearchData:g,oldPagination:T,reloadBtn:z,setSearchFlag:o}),r>1&&t.jsxs(A,{type:"submit",color:"success",variant:"contained",onClick:()=>{h("/school-house/create")},sx:{height:c?"4vh":"auto"},children:["Create New ",i]})]})}),t.jsx(O,{action:P,api:b.SchoolHouseAPI,getQuery:g,columns:M(r),rows:a==null?void 0:a.data,count:a==null?void 0:a.count,loading:s,selected:i,pageSizeOptions:_,setOldPagination:k,searchFlag:p,setSearchFlag:o})]})};$.propTypes={rolePriority:H.number};export{$ as default};
