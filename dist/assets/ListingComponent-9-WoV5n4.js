import{l as a,w as v,v as y,u as j,t as S,j as t,B as r,p as I,h as g,a as h,y as B,T as N,A as x,P as D,U as E}from"./index-zLCHO5gj.js";import{l as f,S as W,a as M}from"./listBG-jqFZybtA.js";import{d as R}from"./DriveFileRenameOutlineOutlined-sr1QJdZi.js";import{s as b}from"./TeacherAction-07bEOcuu.js";import{u as $}from"./index-mkkoW40k.js";import"./FormControlLabel-SXp-cdUw.js";import"./toPropertyKey-mta9U6ZT.js";import"./typeof-Q9eVcF_1.js";import"./ListItemText-2nz_AZOg.js";import"./CircularProgress-ieWN9mTc.js";import"./TableCell-yZ9kbJpi.js";const z=(i=null)=>{a(e=>e.schoolClasses),a(e=>e.allClasses),a(e=>e.schoolSections),a(e=>e.allSections),v();const s=y(),c=j();S(c.palette.mode);const l=e=>{s(`/attendance/update/${e}`,{state:{id:e}})};return[{field:"teacherName",headerName:"Name",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"subjects",headerName:"Attendance",headerAlign:"center",align:"center",flex:1,minWidth:100},i!==1&&{field:"action",headerName:"Action",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(r,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(I,{color:"info",variant:"contained",onClick:()=>l(e),sx:{minWidth:"50px"},children:t.jsx(R,{})})})}]},F=[5,10,20],L=({rolePriority:i=null})=>{const s=a(o=>o.menuItems.selected),{listData:c,loading:l}=a(o=>o.allTeachers),d=j();y();const e=v(),n=g("(max-width:480px)"),A=g("(max-width:920px)"),[P,m]=h.useState({search:!1,searching:!1}),[T,w]=h.useState(),{getPaginatedData:p}=$(),{getLocalStorage:C}=E(),u=S(d.palette.mode),k=document.getElementById("reload-btn");return h.useEffect(()=>{const o=C("menu");e(B(o.selected))},[]),t.jsxs(r,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:d.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${f})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${f})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(r,{height:n?"19vh":A?"8vh":"11vh",borderRadius:"4px",padding:n?"1vh":"2vh",backgroundColor:u.blueAccent[700],children:t.jsxs(r,{display:"flex",height:n?"16vh":"7vh",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"center":"normal",children:[t.jsx(N,{component:"h2",variant:"h2",color:u.grey[100],fontWeight:"bold",children:s}),t.jsx(W,{action:b,api:x.TeacherAPI,getSearchData:p,oldPagination:T,reloadBtn:k,setSearchFlag:m})]})}),t.jsx(M,{action:b,api:x.TeacherAPI,getQuery:p,columns:z(i),rows:[],count:c.count,loading:l,selected:s,pageSizeOptions:F,setOldPagination:w,searchFlag:P,setSearchFlag:m})]})};L.propTypes={rolePriority:D.number};export{L as default};
