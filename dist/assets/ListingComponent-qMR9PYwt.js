import{f as r,h as A,u as C,t as w,j as t,B as l,T as S,o as p,q as W,k as B,x as E,b as v,a as m,s as R,A as b,U as _}from"./index-wJj9abeo.js";import{d as H,S as L,a as M,b as O}from"./DriveFileRenameOutlineOutlined-wh212PVW.js";import{u as T}from"./index-ngBz0NVi.js";import"./FormControlLabel-rkyz9wHp.js";import"./Chip-3qarAbJU.js";import"./index-R3E-xKkl.js";import"./ListItemText-UY9Do7UF.js";const z=(s=null)=>{r(e=>e.allClasses),r(e=>e.allSections);const c=A(),d=C(),n=w(d.palette.mode);T();const a=e=>{c(`/holiday/update/${e}`,{state:{id:e}})};return[{field:"title",headerName:"Title",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"date",headerName:"Date",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"note",headerName:"Notes",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"type",headerName:"Type",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{type:e}})=>t.jsx(l,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="school_closure"?n.greenAccent[600]:e==="partial_closure"?n.redAccent[700]:n.blueAccent[800],borderRadius:"4px",children:t.jsx(S,{color:n.grey[100],sx:{ml:"5px"},children:e})})},{field:"action",headerName:"ACTION",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(l,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(p,{color:"info",variant:"contained",disabled:s,onClick:()=>a(e),sx:{minWidth:"50px"},children:t.jsx(H,{})})})}]},j=s=>({type:W.SET_HOLIDAYS,payload:s}),F=[5,10,20],V=({rolePriority:s=null})=>{const c=C(),d=A(),n=B();E();const a=v("(max-width:480px)"),o=v("(max-width:920px)"),e=r(i=>i.menuItems.selected),{listData:g,loading:I}=r(i=>i.allHolidays),[N,h]=m.useState({search:!1,searching:!1}),[x,k]=m.useState(),{getPaginatedData:f}=T(),{getLocalStorage:D,setLocalStorage:Q}=_(),u=w(c.palette.mode),y=document.getElementById("reload-btn");m.useEffect(()=>{const i=D("menu");n(R(i.selected))},[]);const P=()=>{y.style.display="none",h({search:!1,searching:!1,oldPagination:x})};return t.jsxs(l,{m:"10px",position:"relative",children:[t.jsx(l,{height:a?"19vh":o?"8vh":"11vh",borderRadius:"4px",padding:a?"1vh":"2vh",backgroundColor:u.blueAccent[700],children:t.jsxs(l,{display:"flex",height:a?"16vh":"7vh",flexDirection:a?"column":"row",justifyContent:"space-between",alignItems:a?"center":"normal",children:[t.jsx(S,{component:"h2",variant:"h2",color:u.grey[100],fontWeight:"bold",children:e}),t.jsx(L,{action:j,api:b.HolidayAPI,getSearchData:f,oldPagination:x,reloadBtn:y,setSearchFlag:h}),t.jsxs(p,{type:"submit",color:"success",variant:"contained",disabled:s,onClick:()=>{d("/holiday/create")},sx:{height:o?"4vh":"auto"},children:["Create New ",e]})]})}),t.jsxs(p,{sx:{display:"none",position:"absolute",top:a?"23vh":o?"10.5vh":"16.5vh",left:a?"80vw":o?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:u.grey[100]},id:"reload-btn",type:"button",onClick:P,children:[t.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:t.jsx(M,{})}),"Back"]}),t.jsx(O,{action:j,api:b.HolidayAPI,getQuery:f,columns:z(s),rows:g.rows,count:g.count,loading:I,selected:e,pageSizeOptions:F,setOldPagination:k,searchFlag:N,setSearchFlag:h})]})};export{V as default};
