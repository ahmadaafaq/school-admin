import{v as C,u as S,t as k,j as e,B as s,T as N,p as g,X as D,l as y,w as E,h as v,a as u,y as R,A as j,P as W,U as _}from"./index-zLCHO5gj.js";import{l as A,S as M,d as $,a as z}from"./listBG-jqFZybtA.js";import{d as L}from"./DriveFileRenameOutlineOutlined-sr1QJdZi.js";import{u as O}from"./index-mkkoW40k.js";import"./FormControlLabel-SXp-cdUw.js";import"./toPropertyKey-mta9U6ZT.js";import"./typeof-Q9eVcF_1.js";import"./ListItemText-2nz_AZOg.js";import"./CircularProgress-ieWN9mTc.js";import"./TableCell-yZ9kbJpi.js";const U=(n=null)=>{const i=C(),l=S(),o=k(l.palette.mode),c=t=>{i(`/noticeboard/update/${t}`,{state:{id:t}})};return[{field:"title",headerName:"Title",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"description",headerName:"Description",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"publish_date",headerName:"Pushlish Date",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"expiry_date",headerName:"Expiry Date",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"status",headerName:"Status",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:t}})=>e.jsx(s,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:t==="active"?o.greenAccent[600]:o.redAccent[700],borderRadius:"4px",children:e.jsx(N,{color:o.grey[100],sx:{ml:"5px"},children:t.charAt(0).toUpperCase()+t.slice(1)||""})})},n!==1&&{field:"action",headerName:"Action",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:t}})=>e.jsx(s,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:e.jsx(g,{color:"info",variant:"contained",onClick:()=>c(t),sx:{minWidth:"50px"},children:e.jsx(L,{})})})}]},w=n=>({type:D.SET_NOTICES,payload:n}),F=[5,10,20],Q=({rolePriority:n=null})=>{const i=y(r=>r.menuItems.selected),{listData:l,loading:o}=y(r=>r.allNotices),c=S(),m=C(),t=E(),a=v("(max-width:480px)"),d=v("(max-width:920px)"),[T,h]=u.useState({search:!1,searching:!1}),[x,P]=u.useState(),{getPaginatedData:f}=O(),{getLocalStorage:B}=_(),p=k(c.palette.mode),b=document.getElementById("reload-btn"),I=()=>{b.style.display="none",h({search:!1,searching:!1,oldPagination:x})};return u.useEffect(()=>{const r=B("menu");t(R(r.selected))},[]),e.jsxs(s,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:c.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${A})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${A})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[e.jsx(s,{height:a?"19vh":d?"8vh":"11vh",borderRadius:"4px",padding:a?"1vh":"2vh",backgroundColor:p.blueAccent[700],children:e.jsxs(s,{display:"flex",height:a?"16vh":"7vh",flexDirection:a?"column":"row",justifyContent:"space-between",alignItems:a?"center":"normal",children:[e.jsx(N,{component:"h2",variant:"h2",color:p.grey[100],fontWeight:"bold",children:i}),e.jsx(M,{action:w,api:j.NoticeBoardAPI,getSearchData:f,oldPagination:x,reloadBtn:b,setSearchFlag:h}),n>1&&e.jsxs(g,{type:"submit",color:"success",variant:"contained",onClick:()=>{m("/noticeboard/create")},sx:{height:d?"4vh":"auto"},children:["Create New ",i]})]})}),e.jsxs(g,{sx:{display:"none",position:"absolute",top:a?"23vh":d?"10.5vh":"16.5vh",left:a?"80vw":d?"39.5vw":"26vw",zIndex:1,borderRadius:"20%",color:p.grey[100],marginLeft:"14vh"},id:"reload-btn",type:"button",onClick:I,children:[e.jsx("span",{style:{display:"inherit",marginRight:"5px"},children:e.jsx($,{})}),"Back"]}),e.jsx(z,{action:w,api:j.NoticeBoardAPI,getQuery:f,columns:U(n),rows:l.rows,count:l.count,loading:o,selected:i,pageSizeOptions:F,setOldPagination:P,searchFlag:T,setSearchFlag:h})]})};Q.propTypes={rolePriority:W.number};export{Q as default};
