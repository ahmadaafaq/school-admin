import{l as p,u as k,t as I,w as E,v as N,a as g,A,U as y,j as t,B as d,T as W,p as D,X as P,h as w,y as T}from"./index-zLCHO5gj.js";import{l as C,S as B,a as U}from"./listBG-jqFZybtA.js";import{d as $}from"./DriveFileRenameOutlineOutlined-sr1QJdZi.js";import{s as R}from"./UserRoleAction-wUt_c9OB.js";import{u as L}from"./index-mkkoW40k.js";import"./FormControlLabel-SXp-cdUw.js";import"./toPropertyKey-mta9U6ZT.js";import"./typeof-Q9eVcF_1.js";import"./ListItemText-2nz_AZOg.js";import"./CircularProgress-ieWN9mTc.js";import"./TableCell-yZ9kbJpi.js";const M=()=>{var c;const o=p(e=>e.menuItems.selected),n=p(e=>e.allUserRoles),x=k(),a=I(x.palette.mode),{capitalizeEveryWord:i,formatDate:s}=y(),h=E(),f=N(),{findById:v,fetchAndSetAll:m}=y(),b=e=>{f(`/${o.toLowerCase()}/update/${e}`,{state:{id:e}})};return g.useEffect(()=>{var e;(e=n==null?void 0:n.listData)!=null&&e.length||m(h,R,A.UserRoleAPI)},[(c=n==null?void 0:n.listData)==null?void 0:c.length]),[{field:"username",headerName:"Username",headerAlign:"center",align:"center",flex:1,minWidth:120,valueGetter:e=>`${i(e.row.username)||""}`},{field:"role",headerName:"Role",headerAlign:"center",align:"center",flex:1,minWidth:100,renderCell:e=>{var u,r;let l=(r=v((u=e==null?void 0:e.row)==null?void 0:u.role,n==null?void 0:n.listData))==null?void 0:r.name;return t.jsx("div",{children:l?i(l):"/"})}},{field:"contact_no",headerName:"Contact",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"email",headerName:"E-mail",headerAlign:"center",align:"center",flex:1,minWidth:200},{field:"updated_at",headerName:"Updated",headerAlign:"center",align:"center",flex:1,minWidth:100,valueFormatter:e=>`${s(e.value)}`},{field:"status",headerName:"Status",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(d,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?a.greenAccent[600]:a.redAccent[700],borderRadius:"4px",children:t.jsx(W,{color:a.grey[100],sx:{ml:"5px"},children:i(e)||""})})},{field:"action",headerName:"Action",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(d,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(D,{color:"info",variant:"contained",onClick:()=>b(e),sx:{minWidth:"50px"},children:t.jsx($,{})})})}]},S=o=>({type:P.SET_USERS,payload:o}),_=[5,10,20],Y=()=>{const o=k(),n=N(),x=E(),a=w("(max-width:480px)"),i=w("(max-width:920px)"),s=p(r=>r.menuItems.selected),{listData:h,loading:f}=p(r=>r.allUsers),[v,m]=g.useState({search:!1,searching:!1}),[b,j]=g.useState(),{getPaginatedData:c}=L(),{getLocalStorage:e}=y(),l=I(o.palette.mode),u=document.getElementById("reload-btn");return g.useEffect(()=>{const r=e("menu");x(T(r.selected))},[]),t.jsxs(d,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:o.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${C})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${C})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(d,{height:a?"19vh":i?"8vh":"11vh",borderRadius:"4px",padding:a?"1vh":"2vh",backgroundColor:l.blueAccent[700],children:t.jsxs(d,{display:"flex",height:a?"16vh":"7vh",flexDirection:a?"column":"row",justifyContent:"space-between",alignItems:a?"center":"normal",children:[t.jsx(W,{component:"h2",variant:"h2",color:l.grey[100],fontWeight:"bold",children:s}),t.jsx(B,{action:S,api:A.UserAPI,getSearchData:c,oldPagination:b,reloadBtn:u,setSearchFlag:m}),t.jsxs(D,{type:"submit",color:"success",variant:"contained",onClick:()=>{n(`/${s.toLowerCase()}/create`)},sx:{height:i?"4vh":"auto"},children:["Create New ",s]})]})}),t.jsx(U,{action:S,api:A.UserAPI,getQuery:c,columns:M(),rows:h.rows,count:h.count,loading:f,selected:s,pageSizeOptions:_,setOldPagination:j,searchFlag:v,setSearchFlag:m})]})};export{Y as default};
