import{u as j,t as w,v as A,j as t,B as o,T as C,p as S,U as k,l as x,w as T,h as f,a as d,y as D,A as v,P as E}from"./index-zLCHO5gj.js";import{l as b,S as R,a as $}from"./listBG-jqFZybtA.js";import{d as L}from"./DriveFileRenameOutlineOutlined-sr1QJdZi.js";import{s as y}from"./BusAction-i_6WWXac.js";import{u as M}from"./index-mkkoW40k.js";import"./FormControlLabel-SXp-cdUw.js";import"./toPropertyKey-mta9U6ZT.js";import"./typeof-Q9eVcF_1.js";import"./ListItemText-2nz_AZOg.js";import"./CircularProgress-ieWN9mTc.js";import"./TableCell-yZ9kbJpi.js";const _=(i=null)=>{const a=j(),n=w(a.palette.mode),{capitalizeEveryWord:s}=k(),c=A(),l=e=>{c(`/bus/update/${e}`,{state:{id:e}})};return[{field:"registration_no",headerName:"Registration Number",headerAlign:"center",align:"center",flex:1,minWidth:120},{field:"driver",headerName:"Driver",headerAlign:"center",align:"center",flex:1,minWidth:120,valueGetter:e=>`${s(e.row.driver)||""}`},{field:"driver_contact",headerName:"Contact",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"driver_license",headerName:"License",headerAlign:"center",align:"center",flex:1,minWidth:100},{field:"status",headerName:"Status",headerAlign:"center",align:"center",flex:1,minWidth:120,renderCell:({row:{status:e}})=>t.jsx(o,{width:"60%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",backgroundColor:e==="active"?n.greenAccent[600]:n.redAccent[700],borderRadius:"4px",children:t.jsx(C,{color:n.grey[100],sx:{ml:"5px"},children:s(e)||""})})},i!==1&&{field:"action",headerName:"Action",headerAlign:"center",align:"center",flex:1,minWidth:75,renderCell:({row:{id:e}})=>t.jsx(o,{width:"30%",m:"0 auto",p:"5px",display:"flex",justifyContent:"center",children:t.jsx(S,{color:"info",variant:"contained",onClick:()=>l(e),sx:{minWidth:"50px"},children:t.jsx(L,{})})})}]},z=[5,10,20],F=({rolePriority:i=null})=>{const a=x(r=>r.menuItems.selected),{listData:n,loading:s}=x(r=>r.allBuses),c=j(),l=A(),h=T(),e=f("(max-width:480px)"),u=f("(max-width:920px)"),[B,m]=d.useState({search:!1,searching:!1}),[P,N]=d.useState(),{getPaginatedData:p}=M(),{getLocalStorage:W}=k(),g=w(c.palette.mode),I=document.getElementById("reload-btn");return d.useEffect(()=>{const r=W("menu");h(D(r.selected))},[]),t.jsxs(o,{m:"10px",position:"relative",sx:{borderRadius:"20px",border:"0.5px solid black",overflow:"hidden",boxShadow:"1px 1px 10px black",backgroundImage:c.palette.mode==="light"?`linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), url(${b})`:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${b})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[t.jsx(o,{height:e?"19vh":u?"8vh":"11vh",borderRadius:"4px",padding:e?"1vh":"2vh",backgroundColor:g.blueAccent[700],children:t.jsxs(o,{display:"flex",height:e?"16vh":"7vh",flexDirection:e?"column":"row",justifyContent:"space-between",alignItems:e?"center":"normal",children:[t.jsx(C,{component:"h2",variant:"h2",color:g.grey[100],fontWeight:"bold",children:a}),t.jsx(R,{action:y,api:v.BusAPI,getSearchData:p,oldPagination:P,reloadBtn:I,setSearchFlag:m}),i>1&&t.jsxs(S,{type:"submit",color:"success",variant:"contained",onClick:()=>{l(`/${a.toLowerCase()}/create`)},sx:{height:u?"4vh":"auto"},children:["Create New ",a]})]})}),t.jsx($,{action:y,api:v.BusAPI,getQuery:p,columns:_(i),rows:n.rows,count:n.count,loading:s,selected:a,pageSizeOptions:z,setOldPagination:N,searchFlag:B,setSearchFlag:m})]})};F.propTypes={rolePriority:E.number};export{F as default};
